<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>第二章 IoC    概念与简单的使用 | 笨笨个人笔记</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="/css/main.css?v=1.0.4"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body style="background:#fbfbfb;"><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">第二章 IoC    概念与简单的使用</h1><a id="logo" href="/.">笨笨个人笔记</a><p class="description">ibenben.org</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">第二章 IoC    概念与简单的使用</h1><div class="post-meta">Jun 14, 2013<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><div class="post-content"><h2 id="2-1-IoC的概念"><a href="#2-1-IoC的概念" class="headerlink" title="2.1 IoC的概念"></a>2.1 IoC的概念</h2><p>Inverseof Control，控制反转是Spring容器的内核，AOP、声明式事务等功能都是在此基础上进行的。</p>
<p>IoC主要功能是依赖关系的转移。应用的本身不负责依赖对象的创建和维护，而是由Spring容器负责。控制权就由应用转移到了外部容器。</p>
<p>IoC的主要功能由控制反转来解释并不是很好理解。所以提出了新的概念DependencyInjection.</p>
<p>DI依赖注入，调用类对某一接口实现类的依赖关系由第三方（容器或协作类）注入，以转移对某一接口实现类的依赖。也就是在运行期，由外部容器（Spring）动态地将所依赖的对象注入到组件中去。</p>
<h2 id="2-2-简单的使用"><a href="#2-2-简单的使用" class="headerlink" title="2.2 简单的使用"></a>2.2 简单的使用</h2><h2 id="a、创建工程，导入spring的核心jar包"><a href="#a、创建工程，导入spring的核心jar包" class="headerlink" title="a、创建工程，导入spring的核心jar包"></a>a、创建工程，导入spring的核心jar包</h2><p>如果是Web项目。直接把spring3的核心Jar包放到项目的WEB-INF/lib目录下既可。</p>
<p>因为我们教学是使用MyEclipse平台，测试的时候是用Java Project。这里使用MyEclipse导入Jar包。</p>
<p>右击项目名  -&gt;  Build Path  -&gt;  Configure Build Path。出现Properties for 项目名的窗口。</p>
<p>选择Libraries -&gt; Add Library -&gt; User Library</p>
<p>如果是第一次使用User Library（个人库）。那么你必须先新建一个Library。点击User Libraries…出现下面的窗口。</p>
<p>New -&gt; 填写User library name -&gt; OK.。 如果之前已经有了个人的Spring<br> Library。那么这一步可以跳过。</p>
<p>选中你刚才创建的Library。点击Add JARs。然后把你所需要的所有的Jar包加进Library中来。 如果之前已经有了个人的Spring<br> Library。那么这一步也可以跳过。</p>
<p>选中你的个人Library。OK就可以。</p>
<h2 id="b、写一个接口及一个接口实现类，如UserDao及UserDaoImpl"><a href="#b、写一个接口及一个接口实现类，如UserDao及UserDaoImpl" class="headerlink" title="b、写一个接口及一个接口实现类，如UserDao及UserDaoImpl"></a>b、写一个接口及一个接口实现类，如UserDao及UserDaoImpl</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public interface UserDao &#123;</span><br><span class="line">	public void save();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public class UserDaoImpl implements UserDao &#123;</span><br><span class="line">	public void save() &#123;</span><br><span class="line">		System.out.println(&quot;保存用户...&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后在下面spring的配置文件中，把接口实现类交由Spring容器管理.</p>
<h2 id="c、spring配置文件（如-applicationContext-xml）"><a href="#c、spring配置文件（如-applicationContext-xml）" class="headerlink" title="c、spring配置文件（如:applicationContext.xml）"></a>c、spring配置文件（如:applicationContext.xml）</h2><p>这个配置文件可以上网找，或者在官方提供方的demo中获取。</p>
<p>你也可以通过MyEclipse导入Spring的功能来得到一个配置文件。不过这样做的话，MyEclipse会给你的项目导入一些它给提供的Spring<br> Jar包。完成功能导入后，把这些Jar包移除就可以了。</p>
<p>你还可以直接新建一个xml文件，把我下面的配置拷贝过去就可以。</p>
<p>详情可参考MyEclipse 导入Hibernate功能一章:<a href="http://blog.csdn.net/p_3er/article/details/8965305" target="_blank" rel="noopener">http://blog.csdn.net/p_3er/article/details/8965305</a></p>
<p>spring配置文件一般放在源码根目录（src）下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans</span><br><span class="line">	xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">	xmlns:p=&quot;http://www.springframework.org/schema/p&quot;</span><br><span class="line">	xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;</span><br><span class="line">	</span><br><span class="line">	&lt;!-- 把一个刚才的接口实现类交由spring管理 --&gt;</span><br><span class="line">	&lt;bean id=&quot;userDao&quot; class=&quot;cn.framelife.spring.dao.impl.UserDaoImpl&quot;&gt;&lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure>
<h2 id="d、通过main方法测试"><a href="#d、通过main方法测试" class="headerlink" title="d、通过main方法测试"></a>d、通过main方法测试</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//启动spring容器</span><br><span class="line">		ApplicationContext context = new ClassPathXmlApplicationContext(new String[]&#123;&quot;applicationContext.xml&quot;&#125;);</span><br><span class="line">		</span><br><span class="line">		//通过容器获取到对象，并注入到userDao中去.</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//getBean(&quot;userDao&quot;)中的userDao是刚才Spring配置文件中的 bean id</span><br></pre></td></tr></table></figure>
</div><div class="tags"></div><div class="post-nav"><a href="/2013/06/14/9093161/" class="pre">第二章 IoC 三种实例化Bean的方式</a><a href="/2013/06/14/9091487/" class="next">第一章 Spring介绍</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2013-2018 <a href="/." rel="nofollow">笨笨个人笔记.</a></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=1.0.4" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.4" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.4"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.4"></script><script type="text/javascript" src="/js/prism.js?v=1.0.4"></script></div></body></html>